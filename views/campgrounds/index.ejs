<%- layout('layouts/boilerplate') %>
    <div id="cluster-map" ></div>

    <h1> All Campgrounds </h1>    
    <% for (camp of campgrounds) { %>
        <div class="card mb-3" style="max-width: 1250px;">
            <div class="row g-0">
              <div class="col-md-4">
                <% if(camp.images.length) {%> 
                <img src="<%=camp.images[0].url%>" class="img-fluid rounded-start" alt="...">
                <%}else{%>
                  <img src="https://res.cloudinary.com/dba8utuyf/image/upload/v1673949664/YelpCamp/efmjzi0pa8lrzm9ggfex.jpg" class="img-fluid rounded-start" alt="...">

                  <% } %> 
              </div>
              <div class="col-md-8">
                <div class="card-body">
                    <h4 class="card-text"><%=camp.title%></h4>
                    <p class="card-text"><%=camp.description%></p>
                    <p class="card-text"><small><%=camp.location%></small></p>
                    <a class='btn btn-primary' href="/campgrounds/<%=camp._id%> " class="text-reset">View <%= camp.title %></a>

                </div>
              </div>
            </div>
          </div>
        <!-- <div class="card text-bg-dark">
            <img src="<%=camp.image%>" class="img-fluid" alt="...">
            <div class="card-img-overlay">
            <a href="/campgrounds/<%=camp._id%> "><%= camp.title %></a>
            <p class="card-text"><%=camp.description%></p>
            <p class="card-text"><small><%=camp.location%>></small></p>
            </div>
        </div> -->
    <% } %>  
    <script>
        const mapToken = '<%-process.env.MAPBOX_TOKEN%>'
        const campgrounds ={features: <%-JSON.stringify(campgrounds)%>}
    </script>

   <script src="/javascripts/clusterMap.js"></script>

    
